<% if !defined?(title); title = t['Name']; end %>

<% if t['Description'] %>
  <a href="javascript:;" data-toggle="modal" data-target="#card-<%=title.parameterize%>">
    <% if t.is_a? TarotCard %>
      <img src="<%= t['Image'].first['url'] %>" />
    <% else %>
      <%=title%>
    <% end %>
  </a>    
<% else %>
  <% if t.is_a? TarotCard %>
    <img src="/images/card-back.png" onmouseover="$(this).hide().next().show()" />
    <img src="<%= t['Image'].first['url'] %>" style="display: none" onmouseout="$(this).hide().prev().show()" />
  <% else %>
    <%=title%>
  <% end %>        
<% end %>

<div class="modal fade" id="card-<%=title.parameterize%>" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><%=title%></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body font-weight-normal">

        <% if t['Image'] %>
          <div class="mb-3 text-center">
            <img src="<%=t['Image'].first['url']%>"/>
          </div>
        <% end %>

        <% if t['Description'] %>
          <%= t['Description'].gsub("\n",'<br />')  %>
        <% end %>
      </div>
    </div>
  </div>
</div>   
